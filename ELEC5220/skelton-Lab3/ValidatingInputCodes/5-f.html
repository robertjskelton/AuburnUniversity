<html>
<head>
	<script type='text/javascript'>

	// validates first name and changes the result value
	function firstValidator(){
		var first = document.getElementById("first");
		if(isAlphabet(first, "Your first name should only have letters. No Batman symbols.")) {
			document.getElementById("first").value= first.value;
			document.getElementById("result").innerHTML= "first name verified";
			return true;
		}
		return false;
	}

	// validates last name and changes the result value
	function lastValidator(){
		var last = document.getElementById("last");

		if(isAlphabet(last, "Your last name should only have letters.")) {
			document.getElementById("last").value= last.value;
			document.getElementById("result1").innerHTML= "last name verified";
			return true;
		}
		return false;
	}

	// validates phone number 
	function phoneValidator(){
		var phone = document.getElementById("phone");
		if(isNumeric(phone, "Please enter a valid Telephone number (10 digits).")) {
			if(lengthRestriction(phone, 10, 10)) {
				document.getElementById("phone").value= phone.value;
				document.getElementById("result2").innerHTML= "Telephone number verified";
				return true;
			}
		}
		return false;
	}

	//validates zip code and changes the result value
	function zipValidator(){
		var zip = document.getElementById("zip");
		if(isNumeric(zip, "Enter a valid zip code (5 digits).")){
			if(lengthRestriction(zip, 5, 5)){
				document.getElementById("zip").value= zip.value;
				document.getElementById("result4").innerHTML= "zipcode verified";
				return true;
			}
		}
		return false;
	}

	//Validates the address and changes the form if it is
	function addressValidator(){
		var address = document.getElementById("address");
		if(isAddress(address, "Please enter a valid address.")) {
			document.getElementById("address").value= address.value;
			document.getElementById("result3").innerHTML= "address verified";
			return true;
		}
		return false;
	}

	//Checks if a valid birthday is entered
	function birthdayValidator(){
		var birthday = document.getElementById("birthday");
		if(isBirthday(birthday, "Please enter a valid birthday in the format MM/DD/YYYY.")) {
			document.getElementById("birthday").value= birthday.value;
			document.getElementById("result5").innerHTML= "Birthday verified";
			return true;
		}
		return false;
	}

	//Checks whether or not the address is null
	function isAddress(elem, helperMsg)  {
		if(elem.value != null) {
			return true;
		} else {
			alert(helperMsg);
			elem.focus();
			return false;}
		}
	//Tests if string is only letters
	function isAlphabet(elem, helperMsg){
		var alphaExp = /^[a-zA-Z]+$/; //regex
		if(elem.value.match(alphaExp)) {
			return true;
		} else {
			alert(helperMsg);
			elem.focus();
			return false;
			}
		}

	//Verify Birthday with regex, help from http://stackoverflow.com/questions/5465375/javascript-date-regex-dd-mm-yyyy
	function isBirthday(elem, helperMsg){ // Bday should be in form DD/MM/YYYY
		var x = /^(((0[1-9]|[12]\d|3[01])\/(0[13578]|1[02])\/((19|[2-9]\d)\d{2}))|((0[1-9]|[12]\d|30)\/(0[13456789]|1[012])\/((19|[2-9]\d)\d{2}))|((0[1-9]|1\d|2[0-8])\/02\/((19|[2-9]\d)\d{2}))|(29\/02\/((1[6-9]|[2-9]\d)(0[48]|[2468][048]|[13579][26])|((16|[2468][048]|[3579][26])00))))$/g;
		if(elem.value.match(x)){
			return true;
		} else {
			alert(helperMsg);
			elem.focus();
			return false;
			}
		}

	//Tests if input is only numbers
	function isNumeric(elem, helperMsg){
		var numericExpression = /^[0-9]+$/;
		if(elem.value.match(numericExpression)){
			return true;
		}else{
			alert(helperMsg);
			elem.focus();
			return false;
		}
	}

	// Checks if length is between min and max
	function lengthRestriction(elem, min, max){
		var uInput = elem.value;
		if(uInput.length >= min && uInput.length <= max){
			return true;
		}else{
			alert("Please enter a valid " +max+ "-digit number code.");
			elem.focus();
			return false;
		}
	}
	</script>
	
</head>
<!--Form for getting user input to pass to php-->
<form method="post" action="5-f.php" autocomplete="off">
	Please enter your First Name: 
	<input type='text' name='first' id="first" onblur='firstValidator()'>
	<p id="result">  Validation status: unknown</p>
	Please enter your Last Name: 
	<input type='text' name='last' id="last" onblur='lastValidator()'>
	<p id="result1">  Validation status: unknown</p>
	Please enter your Phone Number: 
	<input type='text' name='phone' id="phone" onblur='phoneValidator()'>
	<p id="result2">  Validation status: unknown</p>
	Please enter your Address (including State): 
	<input type='text' name='address' id="address" onblur='addressValidator()'>
	<p id="result3">  Validation status: unknown</p>
	Please enter your Zip Code: 
	<input type='text' name='zip' id="zip" onblur='zipValidator()'>
	<p id="result4">  Validation status: unknown</p>
	Please enter your birthday: 
	<input type='text' name='birthday' id="birthday" onblur='birthdayValidator()'>
	<p id="result5">  Validation status: unknown</p>
	Click submit after the validation is successful!
	<input type='submit' value='Submit'>
</form>
</body>
</html>